{"version":3,"sources":["../../lib/middleware_services/mwDeletePayloadValidation.es6"],"names":["ApiError","require","log","mwDeletePayloadValidation","req","res","next","body","Object","keys","length","error","apiErr","id","undefined","info","module","exports"],"mappings":";;AAAA,IAAMA,WAAWC,QAAQ,kBAAR,CAAjB;AAAA,IACEC,MAAMD,QAAQ,mBAAR,CADR;;AAGA,SAASE,yBAAT,CAAmCC,GAAnC,EAAwCC,GAAxC,EAA6CC,IAA7C,EAAmD;AACjD,MAAKF,IAAIG,IAAJ,KAAa,IAAd,IAAwBC,OAAOC,IAAP,CAAYL,IAAIG,IAAhB,EAAsBG,MAAtB,GAA+B,CAA3D,EAA+D;;AAE7DR,QAAIS,KAAJ,CAAU,kEAAV;AACA,QAAIC,SAAS,IAAIZ,QAAJ,CAAaI,IAAIS,EAAjB,EAAqB,GAArB,EAA0B,YAA1B,EAAwC,uCAAxC,EAAiF,EAAjF,CAAb;;AAEA,WAAOP,KAAKM,MAAL,CAAP;AAED;AACD;AACAR,MAAIG,IAAJ,GAAWO,SAAX;AACAZ,MAAIa,IAAJ,CAAS,uFAAT;;AAEAT;AACD;;AAEDU,OAAOC,OAAP,GAAiBd,yBAAjB","file":"mwDeletePayloadValidation.js","sourcesContent":["const ApiError = require(\"../util/apiError\"),\n  log = require(\"../util/ApiLogger\");\n\nfunction mwDeletePayloadValidation(req, res, next) {\n  if ((req.body !== null) && (Object.keys(req.body).length > 0)) {\n\n    log.error(\"mwDeletePayloadValidation()//Payload is not allowed for deletion\");\n    let apiErr = new ApiError(req.id, 400, \"BadRequest\", \"Cannot have payload in delete request\", \"\");\n\n    return next(apiErr);\n\n  }\n  // Set body to undefined\n  req.body = undefined;\n  log.info(\"mwDeletePayloadValidation()//Payload validation passed for deletion, set to undefined\");\n\n  next();\n}\n\nmodule.exports = mwDeletePayloadValidation;\n"]}