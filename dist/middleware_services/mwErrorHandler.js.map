{"version":3,"sources":["../../lib/middleware_services/mwErrorHandler.es6"],"names":["log","require","mwErrorHandler","err","req","res","next","hasOwnProperty","name","error","status","statusCode","send","Error","module","exports"],"mappings":";;AAAA,IAAMA,MAAMC,QAAQ,mBAAR,CAAZ;;AAEA,SAASC,cAAT,CAAwBC,GAAxB,EAA6BC,GAA7B,EAAkCC,GAAlC,EAAuCC,IAAvC,EAA6C;;AAE3C,MAAIH,GAAJ,EAAS;AACP,QAAIA,IAAII,cAAJ,CAAmB,MAAnB,KAA8BJ,IAAIK,IAAJ,KAAa,UAA/C,EAA2D;AACzDR,UAAIS,KAAJ,wCAA+CN,GAA/C;AACAE,UAAIK,MAAJ,CAAWP,IAAIQ,UAAf,EAA2BC,IAA3B,CAAgCT,GAAhC;AACD,KAHD,MAGO,IAAIA,eAAeU,KAAnB,EAA0B;AAC/Bb,UAAIS,KAAJ,8CAAqDN,GAArD;AACAE,UAAIK,MAAJ,CAAW,GAAX,EAAgBE,IAAhB,CAAqB,uBAArB;AACD;AACF;AACDN;AACD;;AAEDQ,OAAOC,OAAP,GAAiBb,cAAjB","file":"mwErrorHandler.js","sourcesContent":["const log = require(\"../util/ApiLogger\");\n\nfunction mwErrorHandler(err, req, res, next) {\n\n  if (err) {\n    if (err.hasOwnProperty(\"name\") && err.name === \"ApiError\") {\n      log.error(`mwErrorHandler()//ApiError ------ ${err}`);\n      res.status(err.statusCode).send(err);\n    } else if (err instanceof Error) {\n      log.error(`mwErrorHandler()//Unhandled Error------ ${err}`);\n      res.status(500).send(\"Internal Server Error\");\n    }\n  }\n  next();\n}\n\nmodule.exports = mwErrorHandler;\n"]}