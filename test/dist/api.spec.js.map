{"version":3,"sources":["../lib/api.spec.es6"],"names":["expect","require","request","url","describe","NODE_ENV","before","process","env","after","setTimeout","exit","it","get","end","err","res","done","statusCode","to","equal","body","msg"],"mappings":";;AAAA,IAAMA,SAASC,QAAQ,MAAR,EAAgBD,MAA/B;AAAA,IACEE,UAAUD,QAAQ,YAAR,CADZ;AAAA,IAEEE,MAAM,sCAFR;;AAIAC,SAAS,kDAAT,EAA6D,YAAM;;AAEjEA,WAAS,sDAAT,EAAiE,YAAM;AACrE,QAAIC,iBAAJ;;AAEAC,WAAO,YAAM;AACXD,iBAAWE,QAAQC,GAAR,CAAYH,QAAvB;AACAE,cAAQC,GAAR,CAAYH,QAAZ,GAAuB,MAAvB;AACAJ,cAAQ,gBAAR;AACD,KAJD;;AAMAQ,UAAM,YAAM;AACVC,iBAAW,YAAM;AACfH,gBAAQC,GAAR,CAAYH,QAAZ,GAAuBA,QAAvB;AACAE,gBAAQI,IAAR,CAAa,CAAb;AACD,OAHD,EAGG,IAHH;AAID,KALD;;AAOAC,OAAG,0CAAH,EAA+C,gBAAQ;;AAErDV,cACGW,GADH,CACOV,GADP,EAEGW,GAFH,CAEO,UAACC,GAAD,EAAMC,GAAN,EAAc;AACjB,YAAID,GAAJ,EAAS;AACPE,eAAKF,GAAL;AACD;AACDf,eAAOgB,IAAIE,UAAX,EAAuBC,EAAvB,CAA0BC,KAA1B,CAAgC,GAAhC;AACAH;AACD,OARH;AASD,KAXD;;AAaAL,OAAG,yCAAH,EAA8C,gBAAQ;;AAEpDV,cACGW,GADH,CACOV,GADP,EAEGW,GAFH,CAEO,UAACC,GAAD,EAAMC,GAAN,EAAc;AACjB,YAAID,GAAJ,EAAS;AACPE,eAAKF,GAAL;AACD;AACDf,eAAOgB,IAAIK,IAAJ,CAASC,GAAhB,EAAqBH,EAArB,CAAwBC,KAAxB,CAA8B,IAA9B;AACAH;AACD,OARH;AASD,KAXD;AAaD,GA1CD;AA2CD,CA7CD","file":"api.spec.js","sourcesContent":["const expect = require(\"chai\").expect,\n  request = require(\"superagent\"),\n  url = \"http://localhost:8050/v1/healthcheck\";\n\ndescribe(\"******** Testing Express Http Endpoints ********\", () => {\n\n  describe(\"******** when GET /v1/healthcheck is called ********\", () => {\n    let NODE_ENV;\n\n    before(() => {\n      NODE_ENV = process.env.NODE_ENV;\n      process.env.NODE_ENV = \"test\";\n      require(\"../../dist/api\");\n    });\n\n    after(() => {\n      setTimeout(() => {\n        process.env.NODE_ENV = NODE_ENV;\n        process.exit(1);\n      }, 3000);\n    });\n\n    it(\"should return statusCode 200 sucessfully\", done => {\n\n      request\n        .get(url)\n        .end((err, res) => {\n          if (err) {\n            done(err);\n          }\n          expect(res.statusCode).to.equal(200);\n          done();\n        });\n    });\n\n    it(\"should return message 'OK' successfully\", done => {\n\n      request\n        .get(url)\n        .end((err, res) => {\n          if (err) {\n            done(err);\n          }\n          expect(res.body.msg).to.equal(\"OK\");\n          done();\n        });\n    });\n\n  });\n});\n\n"]}